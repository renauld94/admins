â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                                                                          â•‘
â•‘   ğŸ¬ JELLYFIN FIXES - COMPLETE GUIDE                                    â•‘
â•‘   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•                                   â•‘
â•‘                                                                          â•‘
â•‘   Date: November 6, 2025                                                â•‘
â•‘   Server: 136.243.155.166:8096 / jellyfin.simondatalab.de              â•‘
â•‘                                                                          â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•


â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸ“‹ ISSUE 1: JavaScript ScrollBehavior Error
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

Error Message:
  TypeError: Failed to execute 'scrollTo' on 'Element': 
  The provided value 'null' is not a valid enum value of type ScrollBehavior

Root Cause:
  Jellyfin 10.10.7 bug - Live TV guide passes behavior: null to scroll functions

âœ… SOLUTION: Install Tampermonkey Userscript
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

AUTOMATED INSTALLATION (Recommended):
  
  Run this command:
  
    bash /home/simon/Learning-Management-System-Academy/scripts/install-tampermonkey-script.sh
  
  Then follow the interactive prompts:
    1. Chrome will open to Tampermonkey extension page
    2. Click "Add to Chrome" â†’ "Add extension"
    3. Press ENTER in terminal when installed
    4. Tampermonkey dashboard opens
    5. Click "+" or "Create new script"
    6. Press ENTER in terminal
    7. Script content is copied to clipboard
    8. Paste (Ctrl+V) into editor
    9. Press ENTER in terminal
    10. Save script (Ctrl+S)
    11. Jellyfin opens - press F12 to verify fix

MANUAL INSTALLATION:
  
  1. Install Tampermonkey extension:
     https://chrome.google.com/webstore/detail/tampermonkey/dhdgffkkebhmkfjojejmpbldmpobfkfo
  
  2. Click Tampermonkey icon â†’ Dashboard â†’ "+"
  
  3. Copy script from:
     /home/simon/Learning-Management-System-Academy/config/jellyfin/jellyfin-scrollfix.user.js
  
  4. Paste into editor and save (Ctrl+S)

VERIFICATION:
  
  1. Open: https://jellyfin.simondatalab.de
  2. Press F12 (Developer Console)
  3. Look for: "âœ… Jellyfin ScrollBehavior Fix - Applied successfully!"
  4. Navigate to: Live TV â†’ Guide
  5. Scroll through channels - no errors!

QUICK CONSOLE FIX (Temporary, must repeat each session):
  
  Press F12 in Jellyfin, paste this into console:
  
  (function(){const e=Element.prototype.scrollTo;Element.prototype.scrollTo=function(t){typeof t=="object"&&t!==null&&(t.behavior===null&&(t.behavior="smooth"),["smooth","auto","instant"].includes(t.behavior)||(t.behavior="smooth"));return e.call(this,t)};const o=window.scrollTo;window.scrollTo=function(t){typeof t=="object"&&t!==null&&(t.behavior===null&&(t.behavior="smooth"),["smooth","auto","instant"].includes(t.behavior)||(t.behavior="smooth"));return o.call(this,t)};console.log("âœ… Jellyfin ScrollBehavior fix applied")})();


â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸ–¼ï¸  ISSUE 2: Channel Images Showing 500 Errors
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

Error Message:
  GET https://jellyfin.simondatalab.de/Items/.../Images/Primary
  500 (Internal Server Error)

Root Causes Identified:
  1. âœ… FIXED: 2 channels missing tvg-logo metadata
  2. âš ï¸  LIKELY: Jellyfin image cache corruption
  3. âš ï¸  POSSIBLE: External logo URLs unreachable
  4. âš ï¸  POSSIBLE: Storage permission issues on server

âœ… COMPLETED FIXES:
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

1. Added default logos to channels:
   - ABC 4 Pittsburg PA (WTAE) (720p)
   - AntenaSport (720p) [Not 24/7]
   
   Backup created:
   /home/simon/Learning-Management-System-Academy/alternative_m3u_sources/jellyfin-channels-enhanced.m3u.backup-20251106-110328

2. Analyzed M3U file:
   - Total channels: 311
   - Channels with logos: 309 â†’ 311 (100%)
   - Tested 5 random logos: All âœ… accessible

ğŸ“‹ MANUAL STEPS REQUIRED:
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

STEP 1: Refresh Jellyfin Channel Metadata
  
  1. Open Jellyfin Dashboard:
     http://136.243.155.166:8096/web/index.html#!/dashboard
  
  2. Navigate to: Live TV â†’ Tuner Devices
  
  3. Click on your M3U Tuner
  
  4. Click: "Refresh Guide Data"
  
  5. Wait for refresh to complete (may take 2-5 minutes)

STEP 2: Clear Image Cache (Requires VM200 Access)
  
  If you have SSH access to VM200 (10.0.0.103):
  
    ssh root@10.0.0.103
    
    # If Docker:
    docker exec jellyfin rm -rf /config/data/cache/images/*
    docker restart jellyfin
    
    # If systemd service:
    rm -rf /var/lib/jellyfin/data/cache/images/*
    systemctl restart jellyfin
    
    # Check logs:
    docker logs jellyfin -n 100 | grep -i error
    # OR
    journalctl -u jellyfin -n 100 --no-pager

STEP 3: Verify Image Loading
  
  1. Open: https://jellyfin.simondatalab.de
  2. Navigate to: Live TV â†’ Channels
  3. Check if channel thumbnails load
  4. Press F12 â†’ Console tab
  5. Look for any remaining 500 errors

ALTERNATIVE: Use Jellyfin API
  
  1. Get API key: Dashboard â†’ API Keys â†’ Create new key
  
  2. Refresh library:
     curl -X POST 'http://136.243.155.166:8096/Library/Refresh' \
       -H 'X-MediaBrowser-Token: YOUR_API_KEY'
  
  3. Clear cache:
     curl -X POST 'http://136.243.155.166:8096/System/Tasks/Running/ClearImageCache' \
       -H 'X-MediaBrowser-Token: YOUR_API_KEY'


â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸ”§ DIAGNOSTIC TOOLS
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

1. Diagnose Image Issues:
   bash /home/simon/Learning-Management-System-Academy/scripts/diagnose-jellyfin-images.sh

2. Fix Image Issues:
   bash /home/simon/Learning-Management-System-Academy/scripts/fix-jellyfin-images.sh

3. Test Channel Health:
   python3 /home/simon/Learning-Management-System-Academy/scripts/jellyfin-channel-monitor.py --dry-run

4. Check Jellyfin Server Info:
   curl -s http://136.243.155.166:8096/System/Info/Public | python3 -m json.tool


â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸ“Š CURRENT STATUS
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

Server Details:
  âœ… Jellyfin Version: 10.10.7
  âœ… Server Name: 92a7a8ae540f
  âœ… External URL: https://jellyfin.simondatalab.de (Cloudflare proxy)
  âœ… Internal IP: 136.243.155.166:8096
  âœ… VM200 IP: 10.0.0.103:8096 (not directly accessible from your machine)

Channel Status:
  âœ… Total Channels: 311
  âœ… Working Channels: 286 (92.0%)
  âœ… Channels with Logos: 311 (100%) â† JUST FIXED!
  âš ï¸  Failed Channels: 25 (8.0%)
  ğŸ“Š Latest Report: /home/simon/Learning-Management-System-Academy/reports/jellyfin/channel-health-20251106_103258.html

Fixes Implemented:
  âœ… JavaScript scrollBehavior patch (Tampermonkey script ready)
  âœ… Missing logos added to M3U file
  âœ… Diagnostic scripts created
  âœ… Auto-fix scripts created
  â³ Awaiting: Manual Jellyfin metadata refresh
  â³ Awaiting: Image cache clear on server


â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸš€ QUICK START COMMANDS
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

# Install Tampermonkey script (interactive):
bash /home/simon/Learning-Management-System-Academy/scripts/install-tampermonkey-script.sh

# Diagnose image issues:
bash /home/simon/Learning-Management-System-Academy/scripts/diagnose-jellyfin-images.sh

# Test all channels:
python3 /home/simon/Learning-Management-System-Academy/scripts/jellyfin-channel-monitor.py --dry-run

# View latest health report:
google-chrome /home/simon/Learning-Management-System-Academy/reports/jellyfin/channel-health-20251106_103258.html

# Open Jellyfin:
google-chrome https://jellyfin.simondatalab.de


â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸ“ FILE LOCATIONS
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

Configuration:
  â€¢ M3U Playlist: alternative_m3u_sources/jellyfin-channels-enhanced.m3u
  â€¢ M3U Backup: alternative_m3u_sources/jellyfin-channels-enhanced.m3u.backup-*
  â€¢ Userscript: config/jellyfin/jellyfin-scrollfix.user.js
  â€¢ Console Fix: config/jellyfin/browser-console-fix.txt

Scripts:
  â€¢ Tampermonkey Installer: scripts/install-tampermonkey-script.sh
  â€¢ Image Diagnostic: scripts/diagnose-jellyfin-images.sh
  â€¢ Image Fix: scripts/fix-jellyfin-images.sh
  â€¢ Channel Monitor: scripts/jellyfin-channel-monitor.py

Reports:
  â€¢ Channel Health: reports/jellyfin/channel-health-*.html
  â€¢ Setup Complete: config/jellyfin/JELLYFIN_SETUP_COMPLETE.txt
  â€¢ Awesome Features: config/jellyfin/JELLYFIN_AWESOME_FEATURES.md


â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
âœ… NEXT STEPS
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

HIGH PRIORITY (Do Now - 10 minutes):

  1. Install Tampermonkey script:
     bash /home/simon/Learning-Management-System-Academy/scripts/install-tampermonkey-script.sh
  
  2. Refresh Jellyfin channel metadata:
     Dashboard â†’ Live TV â†’ Tuner Devices â†’ Refresh Guide Data
  
  3. Test Live TV guide:
     https://jellyfin.simondatalab.de/web/#/livetv.html?collectionType=livetv

MEDIUM PRIORITY (If images still fail - 15 minutes):

  4. Access VM200 and clear image cache:
     ssh root@10.0.0.103
     docker logs jellyfin -n 100 | grep -i error
     docker exec jellyfin rm -rf /config/data/cache/images/*
     docker restart jellyfin
  
  5. Verify image loading in browser:
     Press F12 â†’ Console â†’ Check for 500 errors

LOW PRIORITY (Optional enhancements):

  6. Setup EPG data for program guide
  7. Enable hardware transcoding
  8. Install recommended plugins
  
  See: config/jellyfin/JELLYFIN_AWESOME_FEATURES.md


â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
â“ TROUBLESHOOTING
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

Q: Tampermonkey script not working?
A: 1. Check Tampermonkey icon shows "1" badge
   2. Click icon â†’ Dashboard â†’ Script should have green light
   3. Refresh Jellyfin page (Ctrl+R)
   4. Open console (F12) and verify message appears

Q: Images still showing 500 errors?
A: 1. Run diagnostic: bash scripts/diagnose-jellyfin-images.sh
   2. Check Jellyfin logs on VM200
   3. Clear image cache and restart Jellyfin
   4. Verify logo URLs are accessible
   5. Check storage permissions on server

Q: Can't access VM200?
A: 1. Check if you're on the same network
   2. Try from Proxmox console
   3. Use Jellyfin API instead (requires API key)

Q: Channel monitor not working?
A: python3 scripts/jellyfin-channel-monitor.py --dry-run --workers 10 --timeout 5

Q: Need to restore M3U backup?
A: cp alternative_m3u_sources/jellyfin-channels-enhanced.m3u.backup-* \
      alternative_m3u_sources/jellyfin-channels-enhanced.m3u


â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

âœ¨ All tools and fixes are ready! Just run the commands above. âœ¨

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
