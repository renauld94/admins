{{!
    This file is part of Moodle - http://moodle.org/

    Moodle is free software: you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.

    Moodle is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.

    You should have received a copy of the GNU General Public License
    along with Moodle.  If not, see <http://www.gnu.org/licenses/>.
}}
{{!
    @template theme_space/drawer

    Example context (json):
    {
        "drawerclasses": "drawer drawer-right",
        "drawertrigger": "toggleblocks",
        "tooltipplacement": "right",
        "drawerconent": "Content for the blocks region",
        "closebuttontext": "Close drawer"
    }
}}
<div {{!
    }} class="{{$drawerclasses}}{{/drawerclasses}} d-print-none not-initialized"{{!
    }} data-region="fixed-drawer"{{!
    }} id="{{$id}}{{/id}}"{{!
    }} data-preference="{{$drawerpreferencename}}{{/drawerpreferencename}}"{{!
    }} data-state="{{$drawerstate}}{{/drawerstate}}"{{!
    }} data-forceopen="{{$forceopen}}0{{/forceopen}}"{{!
    }} data-close-on-resize="{{$drawercloseonresize}}0{{/drawercloseonresize}}"{{!
    }}>
    <div class="drawerheader px-2">
        <button
            class="btn btn-icon btn-dark drawertoggle btn-close-drawer--left rui-icon-no-margin"
            data-toggler="drawers"
            data-action="closedrawer"
            data-target="{{$id}}{{/id}}"
            data-toggle="tooltip"
            data-placement="{{$tooltipplacement}}right{{/tooltipplacement}}"
            title="{{$closebuttontext}}{{#str}}closedrawer, core{{/str}}{{/closebuttontext}}"
        >
            <svg width="24px" height="24px" stroke-width="2" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" color="currentColor"><path d="M6.75827 17.2426L12.0009 12M17.2435 6.75736L12.0009 12M12.0009 12L6.75827 6.75736M12.0009 12L17.2435 17.2426" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path></svg>
        </button>
        <div class="drawerheadercontent hidden">
            {{$drawerheadercontent}}{{/drawerheadercontent}}
        </div>
    </div>
    <div class="drawercontent drag-container" data-usertour="scroller">

        {{#customcitcontent}}
            <div class="rui-custom-sidebar-content my-4">
                {{{customcitcontent}}}
            </div>
        {{/customcitcontent}}

        {{{ output.display_course_progress }}}
        {{$drawercontent}}{{/drawercontent}}

        {{#customcibcontent}}
            <div class="rui-custom-sidebar-content my-4">
                {{{customcibcontent}}}
            </div>
        {{/customcibcontent}}

    </div>
</div>
{{#js}}
require(['theme_space/drawers']);
{{/js}}
